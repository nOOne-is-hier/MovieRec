# API Documentation

| **엔드포인트**                                               | **HTTP 메서드**   | **설명**                                | **요청 데이터**                                                                                     | **응답 데이터**                                                                                   |
|--------------------------------------------------------------|-------------------|-----------------------------------------|------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------|
| /api/login/                                                  | POST              | 로그인                                  | email, password                                                                                      | token                                                                                              |
| /api/register/                                               | POST              | 회원가입                                | email, password                                                                                      | user_id                                                                                            |
| `/accounts/admin/dashboard/`                                 | GET               | 관리자 대시보드 - 월별 사용자 성장 데이터 | 없음                                                                                                 | `user_growth` (월별 사용자 증가), `movies_by_genre` (장르별 영화 데이터)                           |
| `/accounts/admin/movies/`                                    | GET               | 관리자 대시보드 - 영화 목록 조회 및 검색  | `title` (영화 제목), `sort` (정렬 기준: `title`, `release_date`, `normalized_popularity`)             | 영화 목록 (ID, 제목, 개봉일, 포스터 경로)                                                          |
| `/accounts/admin/reviews/`                                   | GET               | 관리자 대시보드 - 리뷰 목록 조회 및 검색  | `movie_title` (영화 제목), `username` (사용자명), `page` (페이지 번호), `page_size` (페이지 크기)     | 리뷰 목록 (리뷰 ID, 영화 제목, 사용자명, 별점, 내용, 생성일)                                        |
| `/accounts/admin/users/`                                     | GET               | 관리자 대시보드 - 사용자 목록 조회 및 검색 | `username` (사용자명 검색어), `email` (이메일 검색어), `page` (페이지 번호), `page_size` (페이지 크기) | 사용자 목록 (ID, 사용자명, 이메일, 계정 생성일)                                                    |
| `/accounts/google-login/`                                    | POST              | Google 소셜 로그인 처리                  | 없음                                                                                                 | 없음                                                                                               |
| `/accounts/notifications/`                                   | GET               | 알림 목록 조회                           | `is_read` (읽음 상태 필터링), `type` (알림 타입 필터링)                                              | 알림 목록 (ID, 내용, 읽음 상태, 생성일, 알림 타입, 링크)                                           |
| `/accounts/notifications/delete-all/`                        | DELETE            | 모든 알림 삭제                           | 없음                                                                                                 | "성공적으로 모든 알림을 삭제했습니다."                                                              |
| `/accounts/notifications/mark-all-read/`                     | POST              | 모든 알림 읽음 처리                      | 없음                                                                                                 | "성공적으로 모든 알림을 읽음 처리했습니다."                                                        |
| `/accounts/notifications/mark-all-unread/`                   | POST              | 모든 알림 안읽음 처리                    | 없음                                                                                                 | "성공적으로 모든 알림을 안읽음 처리했습니다."                                                      |
| `/accounts/notifications/toggle_notification_read_status/{notification_id}/` | POST           | 개별 알림 읽음/안읽음 토글              | `notification_id` (알림 ID)                                                                          | "알림 읽음 상태가 변경되었습니다." (`is_read` 상태 포함)                                            |
| `/accounts/notifications/{notification_id}/delete/`          | DELETE            | 개별 알림 삭제                           | `notification_id` (삭제할 알림의 ID)                                                                  | "성공적으로 알림을 삭제했습니다."                                                                  |
| `/accounts/users/me/edit-profile/`                           | GET               | 유저 프로필 수정 페이지 조회              | 없음                                                                                                 | 사용자 프로필 정보 (예: `UserProfileRead` 스키마)                                                  |
| `/accounts/users/me/edit-profile/update/`                    | PATCH             | 유저 프로필 수정                         | `data` (수정할 프로필 정보), `user_id` (사용자 ID)                                                   | 성공 메시지 및 수정된 프로필 데이터 (예: 프로필 이미지, 자기소개, 선호 장르 ID)                      |
| `/accounts/users/{user_id}/activity/`                        | GET               | 유저 프로필 - Activity 탭                | `user_id` (사용자 ID)                                                                                | 활동 데이터 (프로필 정보, 최근 리뷰, 댓글, 게시물 등)                                              |
| `/accounts/users/{user_id}/follow/`                          | POST              | 팔로우/언팔로우 토글                     | `user_id` (팔로우/언팔로우할 사용자 ID)                                                              | 성공 메시지 및 팔로우 상태 (`is_following`: true/false)                                            |
| `/accounts/users/{user_id}/liked-movies/`                    | GET               | 유저 프로필 - 좋아하는 영화 탭            | `user_id` (사용자 ID)                                                                                | 좋아하는 영화 목록 (정렬 기준: `normalized_popularity`, 페이지네이션 적용)                          |
| `/accounts/users/{user_id}/liked-people/`                    | GET               | 유저 프로필 - 좋아하는 배우 및 감독       | `user_id` (사용자 ID)                                                                                | 좋아하는 배우/감독 목록 (관련 영화 포함, 페이지네이션 적용)                                        |
| `/accounts/users/{user_id}/profile/`                         | GET               | 유저 프로필 데이터 조회                   | `user_id` (사용자 ID)                                                                                | 사용자 프로필 데이터 (예: 프로필 이미지, 자기소개, 팔로워/팔로잉 수 등)                             |
| `/accounts/users/{user_id}/social/`                          | GET               | 유저 프로필 - 팔로잉 및 팔로워            | `user_id` (사용자 ID)                                                                                | 팔로워, 팔로잉, 맞팔로우 데이터 (페이지네이션 포함)                                                |
| `/accounts/users/{user_id}/social/delete/`                   | DELETE            | Social 탭 데이터 삭제                     | `user_id` (사용자 ID)                                                                                | 204 No Content                                                                                    |
| `/auth/login/`                                              | POST              | 사용자 로그인                             | `data` (사용자 이름 및 비밀번호)                                                                     | 로그인 성공 시 인증 토큰 반환 (`REST Token`)                                                       |
| `/auth/logout/`                                             | GET, POST         | 사용자 로그아웃                           | 없음                                                                                                 | 성공 메시지 또는 상태 코드 반환                                                                    |
| `/auth/password/change/`                                     | POST              | 비밀번호 변경                             | `data` (새로운 비밀번호 1, 새로운 비밀번호 2)                                                        | 성공/실패 메시지                                                                                  |
| `/auth/password/reset/`                                      | POST              | 비밀번호 초기화 요청                      | `data` (이메일 주소)                                                                                 | 성공/실패 메시지                                                                                  |
| `/auth/password/reset/confirm/`                              | POST              | 비밀번호 재설정 링크 확인 및 비밀번호 재설정 | `data` (토큰, UID, 새 비밀번호 1, 새 비밀번호 2)                                                     | 성공/실패 메시지                                                                                  |
| `/auth/password/reset/login/`                                | POST              | 비밀번호 재설정 후 로그인                  | `data` (사용자 이름, 비밀번호)                                                                       | 인증 토큰 (`REST Token`) 반환                                                                     |
| `/auth/password/reset/logout/`                               | GET, POST         | 비밀번호 재설정 후 로그아웃                | 없음                                                                                                 | 성공 메시지 또는 상태 코드 반환                                                                    |
| `/auth/password/reset/password/change/`                      | POST              | 비밀번호 변경                             | `data` (새로운 비밀번호 1, 새로운 비밀번호 2)                                                        | 성공/실패 메시지                                                                                  |
| `/auth/password/reset/password/reset/`                       | POST              | 비밀번호 초기화 요청                      | `data` (이메일 주소)                                                                                 | 성공/실패 메시지                                                                                  |
| `/auth/password/reset/password/reset/confirm/`               | POST              | 비밀번호 초기화 링크 확인 및 비밀번호 재설정 | `data` (토큰, UID, 새 비밀번호 1, 새 비밀번호 2)                                                     | 성공/실패 메시지                                                                                  |
| `/auth/password/reset/token/refresh/`                        | POST              | 인증 토큰 갱신                             | `data` (리프레시 토큰)                                                                               | 새 인증 토큰                                                                                      |
| `/auth/password/reset/token/verify/`                         | POST              | 인증 토큰 검증                             | `data` (토큰)                                                                                        | 토큰 유효성 확인                                                                                  |
| `/auth/password/reset/user/`                                 | GET, PUT, PATCH   | 사용자 정보 조회 및 수정                   | `data` (사용자 이름, 이름, 성 등)                                                                    | 사용자 정보 (`pk`, `username`, `email`, `first_name`, `last_name`)                                |
| `/auth/registration/`                                        | POST              | 사용자 회원가입                            | `data` (사용자 등록 정보)                                                                            | 성공 메시지 또는 상태 코드 반환 (`CustomRegister` 스키마)                                         |
| `/auth/registration/verify-email/`                           | POST              | 이메일 인증 요청                           | `data` (이메일 인증 정보)                                                                            | 성공 메시지 또는 상태 코드 반환 (`VerifyEmail` 스키마)                                            |
| `/auth/token/`                                               | POST              | JWT 토큰 발급                               | `data` (사용자 자격 증명)                                                                            | 액세스 및 리프레시 토큰 (`TokenObtainPair` 스키마)                                                |
| `/auth/token/logout/`                                        | POST              | JWT 토큰 블랙리스트 처리                   | `data` (블랙리스트 처리할 토큰)                                                                      | 성공 메시지 또는 상태 코드 반환 (`TokenBlacklist` 스키마)                                         |
| `/auth/token/refresh/`                                       | POST              | JWT 토큰 갱신                               | `data` (리프레시 토큰)                                                                               | 새 인증 토큰                                                                                      |
| `/auth/token/verify/`                                        | POST              | JWT 토큰 유효성 검증                        | `data` (토큰)                                                                                        | 토큰 유효성 확인                                                                                  |
| `/auth/user/`                                                | GET, PUT, PATCH   | 사용자 정보 조회 및 수정                   | `data` (사용자 이름, 이름, 성 등)                                                                    | 사용자 정보 (`pk`, `username`, `email`, `first_name`, `last_name`)                                |
| `/community/comments/{comment_id}/delete/`                   | DELETE            | 댓글 삭제                                  | `comment_id` (삭제할 댓글 ID)                                                                        | 댓글 삭제 성공 메시지 또는 상태 코드 반환                                                         |
| `/community/comments/{comment_id}/dislike-toggle/`           | POST              | 댓글 싫어요 토글                           | `comment_id` (싫어요를 토글할 댓글 ID)                                                               | 싫어요 상태, 좋아요/싫어요 개수 업데이트 (`disliked`, `like_count`, `dislike_count`)              |
| `/community/comments/{comment_id}/like-toggle/`              | POST              | 댓글 좋아요 토글                           | `comment_id` (좋아요를 토글할 댓글 ID)                                                               | 좋아요 상태, 좋아요/싫어요 개수 업데이트 (`liked`, `like_count`, `dislike_count`)                  |
| `/community/comments/{comment_id}/update/`                   | PATCH             | 댓글 수정                                  | `data` (수정할 댓글 내용), `comment_id` (수정할 댓글 ID)                                             | 수정된 댓글 내용 (`content`), 성공 메시지                                                        |
| `/community/posts/`                                          | GET               | 게시글 목록 조회                           | `query` (검색어), `search_type`, `sort`, `page`, `page_size`                                         | 게시글 목록 (게시글 ID, 제목, 내용, 작성자 정보, 좋아요 수, 댓글 수, 생성일)                       |
| `/community/posts/create/`                                   | POST              | 게시글 생성                                | `data` (게시글 제목, 내용)                                                                           | 게시글 ID, 제목, 내용                                                                             |
| `/community/posts/{post_id}/`                                | GET               | 게시글 상세 조회                           | `post_id` (조회할 게시글의 ID)                                                                       | 게시글 ID, 제목, 내용, 좋아요 수, 댓글 수, 페이지네이션 적용된 댓글 목록                           |
| `/community/posts/{post_id}/comments/`                       | POST              | 댓글/대댓글 작성                           | `data` (댓글 내용, 부모 댓글 ID), `post_id` (게시글 ID)                                              | 댓글 ID, 내용, 부모 댓글 ID (대댓글인 경우), 성공 메시지                                          |
| `/community/posts/{post_id}/delete/`                         | DELETE            | 게시글 삭제                                | `post_id` (삭제할 게시글의 ID)                                                                       | 성공 메시지 또는 상태 코드 반환                                                                   |
| `/community/posts/{post_id}/like-toggle/`                    | POST              | 게시글 좋아요/취소 토글                    | `post_id` (좋아요를 토글할 게시글의 ID)                                                              | 좋아요 상태, 좋아요 개수 업데이트 (`liked`, `like_count`)                                         |
| `/community/posts/{post_id}/update/`                         | PATCH             | 게시글 수정                                | `data` (수정할 제목 및 내용), `post_id` (게시글 ID)                                                  | 수정된 게시글 ID, 제목, 내용                                                                      |
| `/community/review-movies/`                                  | GET               | 리뷰 작성용 영화 목록 조회                 | 없음                                                                                                 | 영화 목록 데이터                                                                                  |
| `/community/reviews/`                                        | GET               | 리뷰 목록 조회                             | `query`, `search_type`, `sort`, `page`, `page_size`                                                  | 리뷰 목록 (ID, 제목, 내용, 별점, 작성자 정보, 좋아요 수, 댓글 수)                                  |
| `/community/reviews/create/`                                 | POST              | 리뷰 생성                                  | `data` (리뷰 제목, 내용, 별점, 영화 ID)                                                              | 리뷰 ID, 제목, 내용, 별점, 영화 정보                                                              |
| `/community/reviews/{review_id}/`                            | GET               | 리뷰 상세 조회                             | `review_id` (리뷰 ID), `page` (댓글 페이지 번호)                                                     | 리뷰 ID, 제목, 내용, 별점, 작성자 정보, 영화 정보, 페이지네이션 적용된 댓글 목록                   |
| `/community/reviews/{review_id}/comments/`                   | POST              | 댓글/대댓글 작성                           | `data` (댓글 내용, 부모 댓글 ID), `review_id` (리뷰 ID)                                              | 댓글 ID, 내용, 부모 댓글 ID (대댓글인 경우), 성공 메시지                                          |
| `/community/reviews/{review_id}/delete/`                     | DELETE            | 리뷰 삭제                                  | `review_id` (삭제할 리뷰 ID)                                                                         | 성공 메시지 또는 상태 코드 반환                                                                   |
| `/community/reviews/{review_id}/like-toggle/`                | POST              | 리뷰 좋아요/취소 토글                      | `review_id` (좋아요를 토글할 리뷰 ID)                                                                | 좋아요 상태, 좋아요 개수 업데이트 (`liked`, `like_count`)                                         |
| `/community/reviews/{review_id}/update/`                     | PATCH             | 리뷰 수정                                  | `data` (수정할 제목, 내용, 별점), `review_id` (수정할 리뷰 ID)                                       | 수정된 리뷰 ID, 제목, 내용, 별점                                                                  |
| `/movies/`                                                   | GET               | 영화 목록 조회 (페이지네이션 적용)          | 없음                                                                                                 | 영화 목록 (ID, 제목, 포스터, 개봉일, 인기 점수, 정규화된 평점, 장르 목록)                          |
| `/movies/actors/{actor_id}/`                                 | GET               | 배우 상세 정보 조회                        | `actor_id` (배우 ID)                                                                                 | 배우 기본 정보, 필모그래피, 페이지네이션 적용된 댓글, 좋아요 상태, 주요 배역                      |
| `/movies/actors/{actor_id}/comments/`                        | POST              | 배우에 대한 댓글 작성                      | `data` (댓글 내용), `actor_id` (배우 ID)                                                             | 작성된 댓글 정보                                                                                  |
| `/movies/actors/{actor_id}/comments/{comment_id}/delete/`    | DELETE            | 배우 댓글 삭제                             | `actor_id` (배우 ID), `comment_id` (댓글 ID)                                                         | 상태 코드 204 (성공)                                                                              |
| `/movies/actors/{actor_id}/comments/{comment_id}/update/`    | PUT               | 배우 댓글 수정                             | `data` (수정할 댓글 내용), `actor_id`, `comment_id`                                                  | 수정된 댓글 정보                                                                                  |
| `/movies/actors/{actor_id}/like/`                            | POST              | 배우 좋아요 토글                           | `actor_id` (배우 ID)                                                                                 | 좋아요 상태 (`liked`)                                                                             |
| `/movies/directors/{director_id}/`                           | GET               | 감독 상세 정보 조회                        | `director_id` (감독 ID)                                                                              | 감독 기본 정보, 필모그래피, 페이지네이션 적용된 댓글, 좋아요 상태                                 |
| `/movies/directors/{director_id}/comments/`                  | POST              | 감독 댓글 작성                             | `data` (댓글 내용), `director_id` (감독 ID)                                                          | 작성된 댓글 정보                                                                                  |
| `/movies/directors/{director_id}/comments/{comment_id}/delete/` | DELETE          | 감독 댓글 삭제                             | `director_id` (감독 ID), `comment_id` (댓글 ID)                                                      | 상태 코드 204 (성공)                                                                              |
| `/movies/directors/{director_id}/comments/{comment_id}/update/` | PUT             | 감독 댓글 수정                             | `data` (수정할 댓글 내용), `director_id`, `comment_id`                                               | 수정된 댓글 정보                                                                                  |
| `/movies/directors/{director_id}/like/`                      | POST              | 감독 좋아요 토글                           | `director_id` (감독 ID)                                                                              | 좋아요 상태 (`liked`)                                                                             |
| `/movies/recommendations_view/`                              | POST              | 영화 추천                                  | `data` (키워드), 로그인 필요                                                                         | 개인화 추천 및 키워드 기반 추천 영화 리스트                                                       |
| `/movies/search/`                                            | GET               | 영화, 배우, 감독 검색                      | 없음                                                                                                 | 영화, 배우, 감독, 사용자 데이터를 포함한 검색 결과                                                |
| `/movies/{movie_id}/`                                        | GET               | 영화 세부 정보 조회                        | `movie_id` (영화 ID)                                                                                 | 영화 세부 정보 (배우, 감독, 트레일러 링크, 관련 영화, 리뷰, 뉴스, 댓글 등)                        |
| `/movies/{movie_id}/comments/`                               | POST              | 영화 댓글 작성                             | `data` (댓글 내용 및 부모 댓글 ID), `movie_id`                                                       | 작성된 댓글 정보                                                                                  |
| `/movies/{movie_id}/comments/{comment_id}/delete/`           | DELETE            | 영화 댓글 삭제                             | `movie_id` (영화 ID), `comment_id` (댓글 ID)                                                         | 성공 시 `204 No Content` 반환                                                                     |
| `/movies/{movie_id}/comments/{comment_id}/update/`           | PUT               | 영화 댓글 수정                             | `movie_id`, `comment_id`, `data` (수정할 댓글 내용)                                                  | 수정된 댓글 데이터 반환                                                                           |
| `/movies/{movie_id}/like/`                                   | POST              | 영화 좋아요/좋아요 취소 토글               | `movie_id` (영화 ID)                                                                                 | 좋아요 상태 및 결과 반환                                                                          |
